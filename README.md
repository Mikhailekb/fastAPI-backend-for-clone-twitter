# О проекте


Проект представляет собой сервис публикации постов.

Структура проекта состоит из: 

- Директория static содержит css/js/img файлы, которые используются в проекте.

- Директория backend содержит всю логику, для работы API: ORM модели, бизнес логику,
эндпоинты и тесты.

- Директория alembic содержит описание миграций для базы данных. 


## Используемые технологии


API основано на фреймворке FastAPI. В качестве СУБД используется PostgreSQL, 
а в качестве ORM - SQLAlchemy. 
В качестве менеджера пакетов используется poetry.  
Все используемые библиотеки, их версии и конфигурации описаны в файле `pyproject.toml`, 
за исключением конфигурации alembic - она описана в файле `alembic.ini`.  

Код протестирован с помощью pytest. Тесты находятся в директории backend/tests/  
Код отформатирован с помощью black и isort, а также flake8. 


## Разворачивание проекта

Необходимые компоненты перед запуском
1. Docker >=4.2

Разворачивание проекта в docker контейнерах возможно при помощи команды:
`docker-compose up -d`

Также возможен запуск API не в docker контейнере, а в локальном окружении.
Для этого необходим python 3.11.
Команды для разворачивания таким образом из корневой директории с проектом:
1. Установка poetry `pip install poetry`
2. Сборка проекта `poetry install`
3. Запуск СУБД в docker контейнере `docker-compose up postgres -d`
4. Запуск приложения `uvicorn "backend.main:app" --port 5000 --reload`

Всю документацию по роутам можно получить после запуска по адресу `localhost:5000/docs`


## Запуск тестов

Для запуска тестов необходима поднятая база данных и установленная библиотека pytest.
Тесты запускаются с помощью команды `pytest` из корня проекта

